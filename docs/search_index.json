[["index.html", "Data reporting in RMarkdown. A quick demo 1 Contents", " Data reporting in RMarkdown. A quick demo Rachael Remington; Anthony Davidson 2022-05-24 1 Contents Resources for class 2022 and future 8700 classes library(tidyverse) ## -- Attaching packages --------------------------------------- tidyverse 1.3.1 -- ## v ggplot2 3.3.5 v purrr 0.3.4 ## v tibble 3.1.6 v dplyr 1.0.8 ## v tidyr 1.2.0 v stringr 1.4.0 ## v readr 2.1.2 v forcats 0.5.1 ## -- Conflicts ------------------------------------------ tidyverse_conflicts() -- ## x dplyr::filter() masks stats::filter() ## x dplyr::lag() masks stats::lag() library(jtools) This workshop will help you apply the principles taught in BIOL8291 to your own experiment. To prepare, you will create an outline of your experimental plan, focusing on the statistical framework of your design. "],["experimental-plan-template.html", " 2 Experimental plan template 2.1 Research Question 2.2 Experimental Aims", " 2 Experimental plan template Now that you have been developing a research question over the last few months, the next step is to design a set of experiments that will specifically test your research aims. We are often focused on the cookbook aspect of experiments  the protocols and steps required to conduct each experiment. However, its critical to spend time designing your overall experimental approach and the finer details to ensure that your research will produce robust data that can be clearly analysed without bias. When we test specific questions, we want to avoid statistical issues such as noise and confounding factors. Terry Neeman will be delivering a workshop to help you strengthen your experimental plan  both in terms of your proposed design, and to help you more clearly and accurately explain the rationale and set-up of your experiments. Below is an outline of questions for you to answer/justify for each part of your experimental plan. You will also need to draw two figures (digital drawings preferred) for each aim that show: a simple overview of the experimental plan related to the research aim, a detailed snap-shot of the experimental set up (i.e., how will the plates, plants, etc. be arranged? Will there be a row-column design? Blocking? Randomization? What treatments will be applied and how many replicates will be tested?) You can access the template for the experimental plan on Wattle or a copy can be found within this repository. DOWNLOAD NOW. The template is laid out below as follows: 2.1 Research Question #input question here 2.2 Experimental Aims For each experiment explain the overall experimental approach (1-3 sentences + overview diagram) list: Response/Outcome measure for the experiment; #input question here The experimental factor(s) of interest; #input question here The experimental conditions (groups for comparisons); #input question here The number of replicates/sample size for each condition; #input question here The experimental control(s); #input question here Are their any potentially confounding factors (nuisance factors)? #input question here Briefly explain how they will be tracked/or mitigated. #input question here Briefly explain the design of the experiment and provide a diagram that shows a snap shot of the experimental set-up (e.g., how all the plants under different experimental conditions will be arranged, all the plates in the lab, a flow chart of computational steps, etc.). Make sure to consider and include relevant design aspects like blocking, randomisation, as well as to clearly indicate treatments, replicate numbers, and controls. TIP: Start thinking about how you will analyse your data: what statistical tests would you use? "],["sampling-design.html", " 3 Sampling design 3.1 Terrys lecture in RMarkdown", " 3 Sampling design Outcome vs experimental factors matter and how we contruct models is directly related to the underlying structure of the data we have collected. #general packages used library(tidyverse) library(knitr) 3.1 Terrys lecture in RMarkdown Understanding variance is very important for building statistical models. But what it is really about is structuring and generating reproducible experiments. knitr::include_graphics(&quot;study_experiment_design/Experimental-plan-workshop Terry Neeman 17 May 2002.pdf&quot;) We should all know what these are and how to render a report in RMarkdown. Next we will produce a RMarkdown document for the question we have been working on ready to add data and other sampling design information. Outcome and predictor variables Statistical model fitting Visual results 3.1.1 How would you design your experiment? What will the actual design look like? How are the treatments and samples laid out within the experimental layout. 3.1.2 Model selection \\[ null model = lm(activity = 0) \\] More complex model. \\[ model_1 = lm(activity \\equiv GBP8 + (1|litter) + (1|mouseID)) \\] 3.1.3 Importing data From the model above it is possible to generate a dataset to produce a model fit and outcomes generated. library(gridExtra) ## ## Attaching package: &#39;gridExtra&#39; ## The following object is masked from &#39;package:dplyr&#39;: ## ## combine dat &lt;- read.csv(&quot;data/Analysis_ardMods.csv&quot;) Select variables from dataset and check the numerical structure is correct in R (numerical, factor etc). # 3what response responseACT &lt;- c(dat$Delta.Ct.Mean) responseACT2 &lt;- c(dat$EQ.Ct.Mean) p1 &lt;- hist(responseACT) p2 &lt;- hist(responseACT2) par(mfrow = c(2,2)) hist(responseACT2) hist(responseACT) 3.1.3.1 Visualising data 3.1.3.2 Reporting "],["rmarkdown-reports.html", " 4 RMarkdown reports", " 4 RMarkdown reports We should all know what these are and how to render/generate a report or document in RMarkdown. The next we will produce a RMarkdown document for the question we have been working on ready to add data and other sampling design information. #general packages used library(tidyverse) What does this tell us about how RProjects and other funky things work? Data import dat &lt;- read.csv(&quot;data/Analysis_ardMods.csv&quot;) glimpse(dat) ## Rows: 380 ## Columns: 35 ## $ Well &lt;chr&gt; &quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;1~ ## $ Well.Position &lt;chr&gt; &quot;A1&quot;, &quot;A2&quot;, &quot;A3&quot;, &quot;A4&quot;, &quot;A5&quot;, &quot;A6&quot;, &quot;A7&quot;, &quot;A8&quot;,~ ## $ Omit &lt;chr&gt; &quot;false&quot;, &quot;false&quot;, &quot;false&quot;, &quot;false&quot;, &quot;false&quot;, &quot;f~ ## $ Sample.Name &lt;chr&gt; &quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;1~ ## $ Delta.Ct.SE &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,~ ## $ Target.Name &lt;chr&gt; &quot;Gapdh&quot;, &quot;Gapdh&quot;, &quot;Gapdh&quot;, &quot;Gapdh&quot;, &quot;Gapdh&quot;, &quot;G~ ## $ Task &lt;chr&gt; &quot;UNKNOWN&quot;, &quot;UNKNOWN&quot;, &quot;UNKNOWN&quot;, &quot;UNKNOWN&quot;, &quot;UN~ ## $ Reporter &lt;chr&gt; &quot;SYBR&quot;, &quot;SYBR&quot;, &quot;SYBR&quot;, &quot;SYBR&quot;, &quot;SYBR&quot;, &quot;SYBR&quot;,~ ## $ Quencher &lt;chr&gt; &quot;None&quot;, &quot;None&quot;, &quot;None&quot;, &quot;None&quot;, &quot;None&quot;, &quot;None&quot;,~ ## $ RQ &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,~ ## $ RQ.Min &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,~ ## $ RQ.Max &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,~ ## $ CT &lt;chr&gt; &quot;12.909&quot;, &quot;14.253&quot;, &quot;13.532&quot;, &quot;13.377&quot;, &quot;14.249~ ## $ EQ.Ct.Mean &lt;dbl&gt; 12.909, 14.253, 13.532, 13.377, 14.249, 15.053,~ ## $ EQ.Ct.SE &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,~ ## $ Quantity &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,~ ## $ Delta.Ct.Mean &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,~ ## $ Delta.Delta.Ct &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,~ ## $ Automatic.Ct.Threshold &lt;chr&gt; &quot;true&quot;, &quot;true&quot;, &quot;true&quot;, &quot;true&quot;, &quot;true&quot;, &quot;true&quot;,~ ## $ Ct.Threshold &lt;dbl&gt; 0.062, 0.062, 0.062, 0.062, 0.062, 0.062, 0.062~ ## $ Automatic.Baseline &lt;chr&gt; &quot;true&quot;, &quot;true&quot;, &quot;true&quot;, &quot;true&quot;, &quot;true&quot;, &quot;true&quot;,~ ## $ Baseline.Start &lt;int&gt; 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,~ ## $ Baseline.End &lt;int&gt; 9, 11, 10, 10, 11, 13, 10, 10, 11, 10, 9, 9, 10~ ## $ Efficiency &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,~ ## $ Tm1 &lt;dbl&gt; 84.395, 84.395, 84.395, 84.395, 84.395, 84.527,~ ## $ Comments &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,~ ## $ Tm2 &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,~ ## $ Amp.Score &lt;dbl&gt; 1.346, 1.345, 1.352, 1.349, 1.339, 1.356, 1.347~ ## $ Tm3 &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,~ ## $ Cq.Conf &lt;dbl&gt; 0.920, 0.872, 0.930, 0.933, 0.974, 0.938, 0.924~ ## $ MTP &lt;chr&gt; &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N~ ## $ EXPFAIL &lt;chr&gt; &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N~ ## $ NOISE &lt;chr&gt; &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N~ ## $ NOAMP &lt;chr&gt; &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N~ ## $ THOLDFAIL &lt;chr&gt; &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N~ variable.names(dat) ## [1] &quot;Well&quot; &quot;Well.Position&quot; &quot;Omit&quot; ## [4] &quot;Sample.Name&quot; &quot;Delta.Ct.SE&quot; &quot;Target.Name&quot; ## [7] &quot;Task&quot; &quot;Reporter&quot; &quot;Quencher&quot; ## [10] &quot;RQ&quot; &quot;RQ.Min&quot; &quot;RQ.Max&quot; ## [13] &quot;CT&quot; &quot;EQ.Ct.Mean&quot; &quot;EQ.Ct.SE&quot; ## [16] &quot;Quantity&quot; &quot;Delta.Ct.Mean&quot; &quot;Delta.Delta.Ct&quot; ## [19] &quot;Automatic.Ct.Threshold&quot; &quot;Ct.Threshold&quot; &quot;Automatic.Baseline&quot; ## [22] &quot;Baseline.Start&quot; &quot;Baseline.End&quot; &quot;Efficiency&quot; ## [25] &quot;Tm1&quot; &quot;Comments&quot; &quot;Tm2&quot; ## [28] &quot;Amp.Score&quot; &quot;Tm3&quot; &quot;Cq.Conf&quot; ## [31] &quot;MTP&quot; &quot;EXPFAIL&quot; &quot;NOISE&quot; ## [34] &quot;NOAMP&quot; &quot;THOLDFAIL&quot; length(unique(dat$Well.Position)) ## [1] 380 # outcome &lt;- dat$ table(dat$Omit) ## ## false ## 4 376 removedData &lt;- dat %&gt;% filter(Omit != &quot;false&quot;) head(removedData) ## Well Well.Position Omit Sample.Name Delta.Ct.SE ## 1 Analysis Type Singleplex NA ## 2 Endogenous Control Gapdh NA ## 3 RQ Min/Max Confidence Level 95.0 NA ## 4 Reference Sample 7 NA ## Target.Name Task Reporter Quencher RQ RQ.Min RQ.Max CT EQ.Ct.Mean EQ.Ct.SE ## 1 NA NA NA NA NA ## 2 NA NA NA NA NA ## 3 NA NA NA NA NA ## 4 NA NA NA NA NA ## Quantity Delta.Ct.Mean Delta.Delta.Ct Automatic.Ct.Threshold Ct.Threshold ## 1 NA NA NA NA ## 2 NA NA NA NA ## 3 NA NA NA NA ## 4 NA NA NA NA ## Automatic.Baseline Baseline.Start Baseline.End Efficiency Tm1 Comments Tm2 ## 1 NA NA NA NA NA NA ## 2 NA NA NA NA NA NA ## 3 NA NA NA NA NA NA ## 4 NA NA NA NA NA NA ## Amp.Score Tm3 Cq.Conf MTP EXPFAIL NOISE NOAMP THOLDFAIL ## 1 NA NA NA ## 2 NA NA NA ## 3 NA NA NA ## 4 NA NA NA Data visualisation # table(dat$Well.Position) mean(dat$Delta.Ct.Mean, na.rm = TRUE) ## [1] 13.08628 sd(dat$Delta.Ct.Mean, na.rm = TRUE) ## [1] 5.507596 hist(dat$Delta.Ct.Mean) Data import dat &lt;- read.csv(&quot;data/Analysis_ardMods.csv&quot;) Data visualisation # table(dat$Well.Position) mean(dat$Delta.Ct.Mean, na.rm = TRUE) ## [1] 13.08628 sd(dat$Delta.Ct.Mean, na.rm = TRUE) ## [1] 5.507596 hist(dat$Delta.Ct.Mean) Tidyverse approach variable.names(dat) ## [1] &quot;Well&quot; &quot;Well.Position&quot; &quot;Omit&quot; ## [4] &quot;Sample.Name&quot; &quot;Delta.Ct.SE&quot; &quot;Target.Name&quot; ## [7] &quot;Task&quot; &quot;Reporter&quot; &quot;Quencher&quot; ## [10] &quot;RQ&quot; &quot;RQ.Min&quot; &quot;RQ.Max&quot; ## [13] &quot;CT&quot; &quot;EQ.Ct.Mean&quot; &quot;EQ.Ct.SE&quot; ## [16] &quot;Quantity&quot; &quot;Delta.Ct.Mean&quot; &quot;Delta.Delta.Ct&quot; ## [19] &quot;Automatic.Ct.Threshold&quot; &quot;Ct.Threshold&quot; &quot;Automatic.Baseline&quot; ## [22] &quot;Baseline.Start&quot; &quot;Baseline.End&quot; &quot;Efficiency&quot; ## [25] &quot;Tm1&quot; &quot;Comments&quot; &quot;Tm2&quot; ## [28] &quot;Amp.Score&quot; &quot;Tm3&quot; &quot;Cq.Conf&quot; ## [31] &quot;MTP&quot; &quot;EXPFAIL&quot; &quot;NOISE&quot; ## [34] &quot;NOAMP&quot; &quot;THOLDFAIL&quot; #sample name # table(dat$Sample.Name) table(dat$Target.Name) ## ## 16s B Fragilis Bft Gapdh Il-12p40 Il-18 ## 4 47 47 47 47 47 47 ## Il-6 Il1-b ## 47 47 mean(as.numeric(dat$CT), na.rm = TRUE) ## Warning in mean(as.numeric(dat$CT), na.rm = TRUE): NAs introduced by coercion ## [1] 24.87021 ##sumarise over Target Name and find n, mean, mode, median, sd, etc for each of the target names? Nicer plots using ggplot Tidyverse approach #tidy data #tibble ggplot Much easier to work this this and tidyverse Read a cool sampling design/issue paper #general packages used library(tidyverse) We should all know what these are and how to render a report in RMarkdown. Next we will produce a RMarkdown document for the question we have been working on ready to add data and other sampling design information. Outcome and predictor variables Other study examples and code Other studies with same sampling design Other reference material. Read a cool sampling design/issue paper "],["power-analysis.html", " 5 Power analysis 5.1 Meta-analysis power test", " 5 Power analysis Watch this short (ish video) as a summary of what you should understand so far. What does this tell us about how RProjects and other funky things work? library(stats) power.anova.test(groups = 4, n = 5, between.var = 1, within.var = 3) ## ## Balanced one-way analysis of variance power calculation ## ## groups = 4 ## n = 5 ## between.var = 1 ## within.var = 3 ## sig.level = 0.05 ## power = 0.3535594 ## ## NOTE: n is number in each group # Power = 0.3535594 power.anova.test(groups = 4, between.var = 1, within.var = 3, power = .80) ## ## Balanced one-way analysis of variance power calculation ## ## groups = 4 ## n = 11.92613 ## between.var = 1 ## within.var = 3 ## sig.level = 0.05 ## power = 0.8 ## ## NOTE: n is number in each group # n = 11.92613 ## Assume we have prior knowledge of the group means: groupmeans &lt;- c(120, 130, 140, 150) power.anova.test(groups = length(groupmeans), between.var = var(groupmeans), within.var = 500, power = .90) # n = 15.18834 ## ## Balanced one-way analysis of variance power calculation ## ## groups = 4 ## n = 15.18834 ## between.var = 166.6667 ## within.var = 500 ## sig.level = 0.05 ## power = 0.9 ## ## NOTE: n is number in each group I can not find the additional code from last year but this is a slight variation on the project. knitr::include_app(&quot;https://mathiasharrer.shinyapps.io/power_calculator_meta_analysis/&quot;, height = &quot;1500px&quot;) 5.1 Meta-analysis power test # The included numbers will per calculate power for a meta-analysis to detect a summary effect size of 0.2, with an average sample size per group of = 50, a total of 15 effect sizes, and moderate heterogeneity. es &lt;- 0.2 # Enter your summary effect size as &lt;- 50 # Average per number per group mk &lt;- 15 # Number of effect sizes hg &lt;- 1 # Heterogeniety (&quot;.33&quot; for small, &quot;1&quot; for moderate, &amp; &quot;3&quot; for large) eq1 &lt;- ((as+as)/((as)*(as))) + ((es^2)/(2*(as+as))) eq2 &lt;- hg*(eq1) eq3 &lt;- eq2+eq1 eq4 &lt;- eq3/mk eq5 &lt;- (es/sqrt(eq4)) Power &lt;- (1-pnorm(1.96-eq5)) # Two-tailed Power ## [1] 0.7798811 5.1.0.1 Next steps Collect some sample data and application. z "],["references.html", "References 5.2 Manual references 5.3 Packages 5.4 Download project and files 5.5 Usage 5.6 Render book 5.7 Preview book 5.8 Output files", " References One aspect that can be challenging when working with RMarkdown documents for manuscripts is references. The references for a bookdown or rmarkdown file can be included using the following information in the yml header of the index file. The references for a bookdown or rmarkdown file can be included using the following information in the yml header of the index file. 5.2 Manual references 5.3 Packages The goal of BIOL877_setup_2022 repository here is to provide a starting point for using RMarkdown and RStudio to undertake research. 5.4 Download project and files We checked and loaded an RMarkdown This is a sample book written in Markdown and extended from the original RMD file. You can use anything that Pandocs Markdown supports; for example, a math equation \\(a^2 + b^2 = c^2\\). 5.5 Usage Each bookdown chapter is an .Rmd file, and each .Rmd file can contain one (and only one) chapter. A chapter must start with a first-level heading: # A good chapter, and can contain one (and only one) first-level heading. Use second-level and higher headings within chapters like: ## A short section or ### An even shorter section. The index.Rmd file is required, and is also your first book chapter. It will be the homepage when you render the book. 5.6 Render book You can render the HTML version of this example book without changing anything: Find the Build pane in the RStudio IDE, and Click on Build Book, then select your output format, or select All formats if youd like to use multiple formats from the same book source files. Or build the book from the R console: bookdown::render_book() To render this example to PDF as a bookdown::pdf_book, youll need to install XeLaTeX. You are recommended to install TinyTeX (which includes XeLaTeX): https://yihui.org/tinytex/. 5.7 Preview book As you work, you may start a local server to live preview this HTML book. This preview will update as you edit the book when you save individual .Rmd files. You can start the server in a work session by using the RStudio add-in Preview book, or from the R console: bookdown::serve_book() 5.8 Output files One of the benefits of working in RMarkdown is that the gitbook extension is that it can easily be hosted on github. To do this with the least hurdles is to publish the output files as a github pages site from the .docs/. "]]
